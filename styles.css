@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Tetris Board Sizing Variables */
    --main-cell-size: min(
      calc((100vh - 120px) / 20), 
      calc((100vw - 400px) / 12)
    );
    --opponent-cell-size: calc(var(--main-cell-size) * 0.7);
    --preview-cell-size: calc(var(--main-cell-size) * 0.25);
  }

  * {
    @apply m-0 p-0 box-border;
  }

  body {
    @apply font-sans bg-gradient-to-br from-slate-800 via-slate-700 to-slate-800 text-white overflow-x-hidden min-h-screen select-none;
  }

  html {
    @apply scroll-smooth;
  }
}

@layer components {
  /* =================================
     SCREEN TRANSITIONS & CONTAINERS
     ================================= */
  .container {
    @apply flex justify-center items-center min-h-screen p-2.5 w-full;
  }

  .screen {
    @apply hidden text-center w-full max-w-full mx-auto h-screen;
    animation: fadeIn 0.4s ease-out;
  }

  .screen.active {
    @apply block;
  }

  /* =================================
     MENU SCREEN STYLES
     ================================= */
  .menu-screen {
    @apply flex flex-col justify-center items-center gap-6 p-8 h-screen;
  }

  .game-title {
    @apply text-4xl md:text-5xl lg:text-6xl font-extrabold mb-8 text-center leading-tight -tracking-wide;
    background: linear-gradient(45deg, #3498db, #9b59b6, #e74c3c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }

  .connection-status {
    @apply mb-6 px-6 py-3 rounded-xl font-semibold text-base w-full max-w-80 uppercase tracking-wide text-center transition-all duration-300;
  }

  .connected {
    @apply bg-green-500/20 border-2 border-green-500 text-green-500;
  }

  .disconnected {
    @apply bg-red-500/20 border-2 border-red-500 text-red-500;
  }

  .menu-buttons {
    @apply flex flex-col gap-4 w-full max-w-80 mx-auto;
  }

  /* =================================
     BUTTON STYLES
     ================================= */
  .btn {
    @apply px-7 py-3.5 text-base font-semibold border-none rounded-xl cursor-pointer transition-all duration-200 text-white uppercase tracking-wide no-underline inline-block w-full text-center min-h-12 relative overflow-hidden;
    background: linear-gradient(135deg, #3498db, #2980b9);
  }

  .btn::before {
    @apply content-[''] absolute top-0 -left-full w-full h-full transition-all duration-500;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  }

  .btn:hover::before {
    @apply left-full;
  }

  .btn:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
  }

  .btn:active {
    @apply translate-y-0;
    box-shadow: 0 2px 10px rgba(52, 152, 219, 0.3);
  }

  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
    transform: none;
  }

  .btn-single-player {
    background: linear-gradient(135deg, #e67e22, #d35400);
  }

  .btn-single-player:hover {
    box-shadow: 0 6px 20px rgba(230, 126, 34, 0.4);
  }

  /* =================================
     CONTROLS ACCORDION
     ================================= */
  .controls-accordion {
    @apply w-full max-w-80 mx-auto my-4;
  }

  .controls-toggle {
    @apply border-none text-white px-7 py-3.5 text-base font-semibold rounded-xl cursor-pointer transition-all duration-200 w-full flex items-center justify-center gap-2.5 uppercase tracking-wide min-h-12;
    background: linear-gradient(135deg, #8e44ad, #7d3c98);
  }

  .controls-toggle:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 6px 20px rgba(142, 68, 173, 0.4);
  }

  .controls-content {
    @apply max-h-0 overflow-hidden transition-all duration-300 rounded-xl mt-2 backdrop-blur-lg;
    background: rgba(52, 73, 94, 0.9);
  }

  .controls-content.expanded {
    @apply max-h-[500px] p-5 border-2;
    border-color: rgba(142, 68, 173, 0.3);
  }

  .controls-section {
    @apply text-left mb-4;
  }

  .controls-title {
    @apply text-purple-500 font-bold text-base mb-2 flex items-center gap-2;
  }

  .controls-list {
    @apply text-sm leading-relaxed text-white/90;
  }

  .control-item {
    @apply flex justify-between my-2 py-1.5 border-b border-white/10;
  }

  .control-key {
    @apply bg-white/15 px-2.5 py-1 rounded-md font-semibold text-xs text-gray-100 border border-white/20;
  }

  .toggle-icon {
    @apply transition-transform duration-300;
  }

  .toggle-icon.rotated {
    @apply rotate-180;
  }

  /* =================================
     ROOM INFO STYLES
     ================================= */
  .room-info {
    @apply rounded-2xl p-8 mb-8 backdrop-blur-lg w-full max-w-96 mx-auto border-2;
    background: rgba(52, 73, 94, 0.9);
    border-color: rgba(52, 152, 219, 0.3);
  }

  .room-id {
    @apply text-2xl md:text-3xl lg:text-4xl font-bold text-yellow-500 mb-4 break-all;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }

  .players-list {
    @apply list-none my-4;
  }

  .players-list li {
    @apply px-4 py-3 my-2 bg-white/10 rounded-lg text-base transition-all duration-200;
  }

  .players-list li:hover {
    @apply bg-white/15 translate-x-1;
  }

  .players-list li.current-player {
    @apply bg-yellow-500/20 border-2 border-yellow-400 text-yellow-400 font-semibold;
  }

  /* =================================
     GAME SCREEN LAYOUT
     ================================= */
  .game-container {
    @apply flex flex-row justify-center items-start gap-5 p-2.5 min-h-screen box-border;
  }

  .game-screen {
    @apply flex w-screen h-screen gap-4 items-center justify-center p-2.5 box-border;
  }

  .boards-container {
    @apply flex flex-col gap-5 items-center justify-center flex-1 h-full;
  }

  .main-player-area {
    @apply flex flex-col items-center gap-2.5 w-full;
  }

  /* =================================
     TETRIS BOARDS
     ================================= */
  .tetris-board,
  .responsive-board,
  .game-board {
    @apply bg-black/90 border-4 rounded-lg overflow-hidden relative mx-auto;
    width: calc(var(--main-cell-size) * 10);
    height: calc(var(--main-cell-size) * 20);
    min-width: 250px;
    min-height: 500px;
    max-width: 400px;
    max-height: 800px;
  }

  .main-board,
  #my-board,
  .player-section .game-board {
    @apply border-blue-500;
    box-shadow: 
      0 0 20px rgba(52, 152, 219, 0.4),
      inset 0 0 20px rgba(52, 152, 219, 0.1);
    background: 
      linear-gradient(0deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.95) 100%),
      repeating-linear-gradient(
        0deg,
        transparent 0px,
        transparent calc(var(--main-cell-size) - 1px),
        rgba(52, 152, 219, 0.1) calc(var(--main-cell-size) - 1px),
        rgba(52, 152, 219, 0.1) var(--main-cell-size)
      ),
      repeating-linear-gradient(
        90deg,
        transparent 0px,
        transparent calc(var(--main-cell-size) - 1px),
        rgba(52, 152, 219, 0.1) calc(var(--main-cell-size) - 1px),
        rgba(52, 152, 219, 0.1) var(--main-cell-size)
      );
  }

  .opponent-board,
  #opponent-board,
  .opponent-section .game-board {
    @apply border-red-500;
    width: calc(var(--opponent-cell-size) * 10);
    height: calc(var(--opponent-cell-size) * 20);
    min-width: 175px;
    min-height: 350px;
    max-width: 280px;
    max-height: 560px;
    box-shadow: 
      0 0 15px rgba(231, 76, 60, 0.3),
      inset 0 0 15px rgba(231, 76, 60, 0.1);
    background: 
      linear-gradient(0deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.95) 100%),
      repeating-linear-gradient(
        0deg,
        transparent 0px,
        transparent calc(var(--opponent-cell-size) - 1px),
        rgba(231, 76, 60, 0.1) calc(var(--opponent-cell-size) - 1px),
        rgba(231, 76, 60, 0.1) var(--opponent-cell-size)
      ),
      repeating-linear-gradient(
        90deg,
        transparent 0px,
        transparent calc(var(--opponent-cell-size) - 1px),
        rgba(231, 76, 60, 0.1) calc(var(--opponent-cell-size) - 1px),
        rgba(231, 76, 60, 0.1) var(--opponent-cell-size)
      );
  }

  /* =================================
     TETRIS BLOCKS
     ================================= */
  .tetris-block {
    @apply absolute border border-white/30 rounded-sm transition-all duration-100 box-border;
    box-shadow: 
      inset 0 0 0 1px rgba(255,255,255,0.2),
      0 1px 3px rgba(0,0,0,0.5);
  }

  .tetris-block-small {
    @apply absolute border border-white/20 rounded-sm transition-all duration-100;
    box-shadow: 
      inset 0 0 0 1px rgba(255,255,255,0.1),
      0 1px 2px rgba(0,0,0,0.3);
  }

  /* Tetris Block Colors */
  .block-i {
    background: linear-gradient(135deg, #00f5ff 0%, #00d4e6 100%);
    border-color: #00a8cc;
  }

  .block-o {
    background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
    border-color: #cc8800;
  }

  .block-t {
    background: linear-gradient(135deg, #a020f0 0%, #7a1fb8 100%);
    border-color: #5c1a87;
  }

  .block-s {
    background: linear-gradient(135deg, #32cd32 0%, #228b22 100%);
    border-color: #1a661a;
  }

  .block-z {
    background: linear-gradient(135deg, #ff4500 0%, #cc3300 100%);
    border-color: #992600;
  }

  .block-j {
    background: linear-gradient(135deg, #0080ff 0%, #0066cc 100%);
    border-color: #004d99;
  }

  .block-l {
    background: linear-gradient(135deg, #ff8c00 0%, #cc6600 100%);
    border-color: #994d00;
  }

  .ghost-block {
    @apply opacity-30 border-dashed;
    background: transparent !important;
    border-color: rgba(255,255,255,0.5);
  }

  .current-piece {
    border: 2px solid rgba(255,255,255,0.8) !important;
    box-shadow: 0 0 8px rgba(255,255,255,0.5) !important;
  }

  /* =================================
     SIDE PANELS
     ================================= */
  .player-info,
  .left-panel,
  .right-panel,
  .player-section,
  .opponent-section {
    @apply flex-none w-45 flex flex-col gap-3 max-h-screen overflow-y-auto p-1.25;
  }

  .player-info-card,
  .opponent-info-card,
  .stats-card,
  .opponent-stats-card,
  .next-piece-container,
  .hold-piece-container,
  .stats {
    @apply p-4 rounded-xl backdrop-blur-lg text-center w-full text-sm border-2 border-transparent transition-all duration-200 text-white font-mono;
    background: rgba(52, 73, 94, 0.9);
  }

  .player-info-card:hover,
  .stats-card:hover,
  .stats:hover {
    @apply border-blue-500/50 -translate-y-0.5;
  }

  .opponent-info-card:hover,
  .opponent-stats-card:hover {
    @apply border-red-500/50 -translate-y-0.5;
  }

  .next-piece-container:hover,
  .hold-piece-container:hover {
    @apply border-purple-500/50 -translate-y-0.5;
  }

  .player-label,
  .opponent-label,
  .next-piece-title,
  .hold-piece-title {
    @apply font-bold mb-2 text-xs uppercase tracking-wide;
  }

  .player-label {
    @apply text-blue-500;
  }

  .opponent-label {
    @apply text-red-500;
  }

  .next-piece-title,
  .hold-piece-title {
    @apply text-purple-500;
  }

  .player-name-display {
    @apply text-white text-base font-semibold;
  }

  .stats h3 {
    @apply m-0 mb-1.25 text-sm text-blue-500 uppercase tracking-wide;
  }

  .stats div {
    @apply my-1.25 text-xs;
  }

  /* =================================
     PIECE PREVIEW
     ================================= */
  #next-piece-preview,
  .next-piece-preview,
  #hold-piece-preview,
  .hold-piece-preview {
    @apply bg-black/80 border-2 border-white/20 rounded-lg mx-auto relative transition-all duration-200;
    width: calc(var(--preview-cell-size) * 16);
    height: calc(var(--preview-cell-size) * 16);
    min-width: 60px;
    min-height: 60px;
    max-width: 100px;
    max-height: 100px;
  }

  #next-piece-preview:hover,
  .next-piece-preview:hover,
  #hold-piece-preview:hover,
  .hold-piece-preview:hover {
    @apply border-white/40 scale-105;
  }

  /* =================================
     STATS DISPLAY
     ================================= */
  .stat-row {
    @apply flex justify-between my-1.5 text-sm items-center py-1 border-b border-white/10;
  }

  .stat-row:last-child {
    @apply border-b-0;
  }

  .stat-label {
    @apply text-white/80 font-medium uppercase text-xs tracking-wide;
  }

  .stat-value {
    @apply text-white font-bold text-right text-sm;
  }

  .level-display {
    @apply text-yellow-500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }

  .score-display {
    @apply text-green-500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }

  .lines-display {
    @apply text-red-500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }

  .time-display {
    @apply text-blue-500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }

  /* =================================
     GAME OVER OVERLAY
     ================================= */
  .game-over-overlay {
    @apply absolute inset-0 bg-black/90 flex flex-col items-center justify-center z-10 backdrop-blur-sm rounded-md;
  }

  .game-over-text {
    @apply text-2xl md:text-3xl lg:text-4xl font-extrabold text-red-500 mb-4 uppercase tracking-widest;
    text-shadow: 0 0 10px rgba(231, 76, 60, 0.5), 2px 2px 4px rgba(0,0,0,0.8);
  }

  .final-score {
    @apply text-xl text-blue-500 mb-6;
  }

  /* =================================
     MOBILE CONTROLS
     ================================= */
  .mobile-controls,
  .controls {
    @apply hidden fixed bottom-4 left-1/2 -translate-x-1/2 rounded-2xl p-4 backdrop-blur-lg z-50 border-2;
    background: rgba(52, 73, 94, 0.95);
    border-color: rgba(52, 152, 219, 0.3);
    width: clamp(280px, 85vw, 360px);
  }

  .control-buttons,
  .control-grid {
    @apply grid grid-cols-4 gap-2.5 mb-2.5;
  }

  .control-btn,
  .control-button {
    @apply bg-blue-500/80 border-2 border-blue-500 rounded-lg p-3 text-white font-semibold cursor-pointer transition-all duration-200 text-xs aspect-square flex items-center justify-center min-h-11 uppercase tracking-wide;
  }

  .control-btn:hover,
  .control-button:hover {
    @apply bg-blue-500 scale-105;
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
  }

  .control-btn:active,
  .control-button:active {
    @apply bg-blue-600 scale-95;
    box-shadow: 0 2px 6px rgba(52, 152, 219, 0.6);
  }

  .control-instructions {
    @apply text-center text-xs text-white/80 mt-2 font-medium;
  }

  /* =================================
     UTILITY CLASSES
     ================================= */
  .hidden {
    @apply !hidden;
  }

  .visible {
    @apply !block;
  }

  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }

  .no-scroll {
    @apply overflow-hidden h-screen;
  }

  /* Animation Classes */
  .line-clearing {
    animation: lineClear 0.3s ease-out;
  }

  .piece-dropped {
    animation: pieceDrop 0.1s ease-out;
  }
}

/* =================================
   RESPONSIVE BREAKPOINTS
   ================================= */
@layer utilities {
  /* Large Desktop */
  @screen 2xl {
    :root {
      --main-cell-size: min(calc((100vh - 120px) / 20), calc((100vw - 500px) / 12));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.7);
      --preview-cell-size: calc(var(--main-cell-size) * 0.25);
    }
    
    .player-info,
    .left-panel,
    .right-panel,
    .player-section,
    .opponent-section {
      @apply w-55;
    }
  }

  /* Standard Desktop */
  @media (max-width: 1399px) and (min-width: 1025px) {
    :root {
      --main-cell-size: min(calc((100vh - 120px) / 20), calc((100vw - 400px) / 12));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.7);
      --preview-cell-size: calc(var(--main-cell-size) * 0.25);
    }
    
    .game-container {
      @apply flex-row justify-center gap-8;
    }
    
    .controls {
      @apply mt-5 grid grid-cols-3 grid-rows-2 gap-2 max-w-62 relative bottom-auto left-auto transform-none bg-transparent border-0 p-0;
    }
    
    .control-button {
      @apply h-10 text-sm;
    }
  }

  /* Tablet Landscape */
  @media (max-width: 1024px) and (min-width: 769px) {
    :root {
      --main-cell-size: min(calc((100vh - 140px) / 20), calc((100vw - 320px) / 12));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.65);
      --preview-cell-size: calc(var(--main-cell-size) * 0.2);
    }
    
    .game-screen,
    .game-container {
      @apply gap-3 p-2 flex-row justify-around;
    }
    
    .player-info,
    .left-panel,
    .right-panel,
    .player-section,
    .opponent-section {
      @apply w-35 flex-1 max-w-87.5;
    }
    
    .opponent-section {
      @apply flex-none;
    }
    
    .mobile-controls {
      @apply block;
    }
    
    .stats-card,
    .player-info-card,
    .opponent-info-card {
      @apply p-3 text-xs;
    }
    
    .stat-row {
      @apply text-xs my-1;
    }
    
    .next-piece-preview,
    .hold-piece-preview {
      @apply w-12.5 h-12.5;
    }
  }

  /* Tablet Portrait */
  @media (max-width: 768px) and (min-width: 481px) {
    :root {
      --main-cell-size: min(calc((100vh - 160px) / 20), calc((100vw - 40px) / 12));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.6);
      --preview-cell-size: calc(var(--main-cell-size) * 0.18);
    }
    
    .game-screen,
    .game-container {
      @apply flex-col items-center gap-4 p-2.5 h-auto min-h-screen;
    }
    
    .boards-container {
      @apply order-2 w-full max-w-96;
    }
    
    .player-info,
    .left-panel,
    .right-panel,
    .player-section,
    .opponent-section {
      @apply order-1 w-full max-w-96 flex-row justify-around gap-2 flex-wrap;
    }
    
    .opponent-section {
      @apply order-3 mt-2.5;
    }
    
    .mobile-controls {
      @apply block fixed bottom-2.5;
      width: clamp(320px, 90vw, 400px);
    }
    
    .stats-card,
    .player-info-card,
    .opponent-info-card,
    .next-piece-container,
    .hold-piece-container {
      @apply flex-1 min-w-30 p-2.5 text-xs;
    }
    
    .control-grid {
      @apply grid-cols-3 gap-2;
    }
    
    .control-btn {
      @apply p-2.5 text-xs min-h-10;
    }
  }

  /* Mobile Landscape */
  @media (max-width: 850px) and (max-height: 480px) and (orientation: landscape) {
    :root {
      --main-cell-size: min(calc((100vh - 100px) / 20), calc((100vw - 300px) / 12));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.55);
      --preview-cell-size: calc(var(--main-cell-size) * 0.16);
    }
    
    .game-screen,
    .game-container {
      @apply flex-row gap-2 p-1.25 h-screen overflow-hidden;
    }
    
    .player-info,
    .left-panel,
    .right-panel,
    .player-section,
    .opponent-section {
      @apply w-30 gap-2 overflow-y-auto;
      max-height: calc(100vh - 20px);
    }
    
    .stats-card,
    .player-info-card,
    .opponent-info-card,
    .next-piece-container,
    .hold-piece-container {
      @apply p-2 text-xs;
    }
    
    .mobile-controls {
      @apply block bottom-1.25;
      width: clamp(250px, 80vw, 320px);
      @apply p-3;
    }
    
    .control-grid {
      @apply gap-1.5;
    }
    
    .control-btn {
      @apply p-2 text-xs min-h-9;
    }
  }

  /* Mobile Portrait */
  @screen max-sm {
    :root {
      --main-cell-size: min(calc((100vh - 200px) / 20), calc((100vw - 20px) / 10));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.5);
      --preview-cell-size: calc(var(--main-cell-size) * 0.15);
    }
    
    .container {
      @apply p-1.25;
    }
    
    .game-screen,
    .game-container {
      @apply flex-col gap-2.5 p-1.25 h-auto min-h-screen;
    }
    
    .boards-container {
      @apply order-2 w-full items-center;
    }
    
    .main-board,
    .tetris-board {
      max-width: calc(100vw - 20px);
      max-height: calc((100vw - 20px) * 2);
    }
    
    .player-info,
    .left-panel,
    .right-panel,
    .player-section,
    .opponent-section {
      @apply order-1 w-full flex-row justify-between gap-1.25 flex-wrap max-h-none overflow-visible;
    }
    
    .opponent-section {
      @apply order-3 justify-center;
    }
    
    .stats-card,
    .player-info-card,
    .opponent-info-card,
    .next-piece-container,
    .hold-piece-container {
      @apply flex-1 min-w-25 max-w-37.5 p-2 text-xs m-0.5;
    }
    
    .stat-row {
      @apply text-xs my-0.5;
    }
    
    .next-piece-preview,
    .hold-piece-preview {
      @apply w-10 h-10;
    }
    
    .mobile-controls {
      @apply block fixed bottom-1.25 p-2.5;
      width: calc(100vw - 20px);
      max-width: 340px;
    }
    
    .control-grid {
      @apply grid-cols-4 gap-1.5;
    }
    
    .control-btn {
      @apply p-2 text-xs min-h-9 rounded-lg;
    }
    
    .control-instructions {
      @apply text-xs mt-1.5;
    }
    
    .menu-screen {
      @apply gap-4 p-4;
    }
    
    .game-title {
      @apply text-3xl font-bold mb-4;
    }
    
    .menu-buttons {
      @apply gap-3;
    }
    
    .btn {
      @apply text-sm p-3 min-h-10;
    }
    
    .room-info {
      @apply p-4 max-w-80;
    }
    
    .room-id {
      @apply text-xl;
    }
  }

  /* Very Small Mobile */
  @media (max-width: 320px) {
    :root {
      --main-cell-size: min(calc((100vh - 180px) / 20), calc(100vw / 10));
      --opponent-cell-size: calc(var(--main-cell-size) * 0.45);
      --preview-cell-size: calc(var(--main-cell-size) * 0.12);
    }
    
    .stats-card,
    .player-info-card,
    .opponent-info-card,
    .next-piece-container,
    .hold-piece-container {
      @apply min-w-20 p-1.5 text-xs;
    }
    
    .control-btn {
      @apply p-1.5 text-xs min-h-8;
    }
    
    .mobile-controls {
      @apply p-2;
    }
  }
}

/* =================================
   ANIMATIONS (Tailwind Compatible)
   ================================= */
@layer components {
  .animate-fadeIn {
    animation: fadeIn 0.4s ease-out;
  }

  .animate-lineClear {
    @apply animate-pulse;
    animation: lineClear 0.3s ease-out;
  }

  .animate-pieceDrop {
    animation: pieceDrop 0.1s ease-out;
  }

  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }

  .animate-levelUp {
    animation: levelUp 0.6s ease-in-out;
  }

  .animate-bounceIn {
    animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .animate-slideUp {
    animation: slideUp 0.4s ease-out;
  }

  .animate-glowPulse {
    animation: glowPulse 2s ease-in-out infinite alternate;
  }

  /* Loading Components */
  .loading-spinner {
    @apply w-8 h-8 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto;
  }
  
  .loading-text {
    @apply text-white/80 text-sm mt-2 animate-pulse;
  }
  
  /* Transition Utilities */
  .transition-all-smooth {
    @apply transition-all duration-300 ease-out;
  }
  
  /* Glow Effects */
  .glow-blue {
    @apply shadow-lg;
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
  }
  
  .glow-red {
    @apply shadow-lg;
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
  }
  
  .glow-purple {
    @apply shadow-lg;
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.4);
  }
  
  /* Text Effects */
  .text-glow {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
  }
  
  .text-glow-blue {
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.8);
  }
  
  .text-glow-red {
    text-shadow: 0 0 10px rgba(239, 68, 68, 0.8);
  }
  
  /* Custom Backdrop Blur */
  .backdrop-blur-strong {
    @apply backdrop-blur-xl;
  }
  
  /* No Select/Tap Highlight */
  .no-tap-highlight {
    @apply select-none;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }
  
  /* Game Specific Effects */
  .piece-highlight {
    @apply border-2 border-white/80 shadow-lg;
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
  }
  
  .board-glow {
    @apply shadow-xl;
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.3), inset 0 0 30px rgba(59, 130, 246, 0.1);
  }
  
  .opponent-board-glow {
    @apply shadow-xl;
    box-shadow: 0 0 25px rgba(239, 68, 68, 0.3), inset 0 0 25px rgba(239, 68, 68, 0.1);
  }
  
  /* Hover States */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-1;
  }
  
  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }
  
  .hover-glow {
    @apply transition-all duration-200;
  }
  
  .hover-glow:hover {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
  }
}

/* Custom Keyframes (Keep minimal CSS for complex animations) */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes lineClear {
  0% { background-color: rgba(255, 255, 255, 0.8); transform: scaleY(1); }
  50% { background-color: rgba(255, 255, 255, 1); transform: scaleY(1.1); }
  100% { background-color: transparent; transform: scaleY(0); }
}

@keyframes pieceDrop {
  0% { transform: translateY(-2px); }
  100% { transform: translateY(0); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}

@keyframes levelUp {
  0% { transform: scale(1); color: #ffd700; }
  50% { transform: scale(1.2); color: #fff; }
  100% { transform: scale(1); color: #ffd700; }
}

@keyframes bounceIn {
  0% { opacity: 0; transform: scale(0.3); }
  50% { opacity: 1; transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes glowPulse {
  from { box-shadow: 0 0 20px rgba(59, 130, 246, 0.4); }
  to { box-shadow: 0 0 40px rgba(59, 130, 246, 0.8); }
}

/* =================================
   ACCESSIBILITY & PREFERENCES
   ================================= */
@layer utilities {
  /* Reduced Motion Support */
  .motion-reduce-friendly {
    @apply transition-none;
  }
  
  /* Focus Visible States */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-800;
  }
  
  /* Screen Reader Only */
  .sr-only-focusable {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 focus:px-4 focus:py-2 focus:bg-slate-800 focus:text-white focus:rounded;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-fadeIn,
  .animate-lineClear,
  .animate-pieceDrop,
  .animate-shake,
  .animate-levelUp,
  .animate-bounceIn,
  .animate-slideUp,
  .animate-glowPulse {
    @apply animate-none;
  }
  
  .transition-all-smooth,
  .hover-lift,
  .hover-scale {
    @apply transition-none;
  }
}

/* =================================
   PRINT STYLES
   ================================= */
@media print {
  .mobile-controls,
  .controls,
  .btn,
  .control-btn {
    @apply hidden;
  }
  
  .game-screen,
  .container {
    @apply bg-white text-black;
  }
  
  .tetris-board,
  .opponent-board {
    @apply border-black;
  }
}
